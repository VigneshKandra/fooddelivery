pipeline{

 agent any
    
    tools { 
        maven 'maven' 
        jdk 'jdk1.8' 
    } 


     properties([parameters([choice(choices: 'Master\nRelease\nDev', description: 'select the branch ', name: 'Branch')])])
        node {
                 stage('SCM checkout'){
                    echo "pulling changes from the branch $params.branch"
                    git url:'https://gitlab.com/kandra.vignesh4/react-js-quick-food-delivery-website.git' ,branch:"$params.branch"
                 }
            }

    stages{
    stage('Build Project') {
         steps {
            sh label: '', script: '''
            cd Hackathon/react-js-quick-food-delivery-website/ 
            mvn clean install
            '''
         }

         stage ('Docker run'){
          sh label: '', script: '''  
                docker login -u vigneshkandra -p Vignesh@1
                docker run  -t -p 3000:3000 fooddeliveryappimage
                xdg-open 13.233.6.233:3000
                '''
            }
    }

    
    
    }
    }
   
        

}